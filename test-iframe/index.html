<html>
  <body>    
    <iframe
            id="iframe-child"
            style="border: none; margin: none; padding: none; width: 40vw; height: 100vh; float: right"
            src="https://antoine-agthe-unity.github.io/test-iframe/index.html">
    </iframe>
    <div id="console" style="width: 40vw; height: 100vh; float: left"></div>
    <script>

      function log(message) {
        var div = document.getElementById("console");
        div.innerHTML = `<p>${message}</p>${div.innerHTML}`;
      }
      
      function receiveMessage(e) {
        var message = `FROM: ${e.origin}: ${e.data}`;
        log(message);
      }
      
      var iframe = document.getElementById("iframe-child");
      var messageId = 0;
      
      function sendMessage() {
        var message = `Hello from parent #${messageId++}`;
        iframe.contentWindow.postMessage(message, "https://antoine-agthe-unity.github.io");
      }
            
      window.addEventListener("message", receiveMessage, false);
      
      setInterval(sendMessage, 1000);
    </script>
  </body>
</html>
